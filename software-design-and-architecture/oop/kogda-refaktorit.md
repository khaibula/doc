# Когда рефакторить

<figure><img src="https://refactoring.guru/images/refactoring/content/pages/r1.svg" alt=""><figcaption></figcaption></figure>

**Правило трёх**

1. Делая что-то в первый раз, вы просто это делаете.
2. Делая что-то аналогичное во второй раз, вы морщитесь от необходимости повторения, но все-таки повторяете то же самое.
3. Делая что-то похожее в третий раз, вы начинаете рефакторинг.

<figure><img src="https://refactoring.guru/images/refactoring/content/pages/r2.svg" alt=""><figcaption></figcaption></figure>

**Когда делаете новую фичу**

* Рефакторинг помогает понять чужой код. Если код, в который нужно добавить новую фичу, недостаточно ясный, рефакторинг позволяет сделать его очевидней для вас и для того, кто будет работать с ним в будущем.
* Рефакторинг облегчает написание нового кода. После рефакторинга добавление новой фичи происходит значительно более гладко и занимает меньше времени.

<figure><img src="https://refactoring.guru/images/refactoring/content/pages/r3.svg" alt=""><figcaption></figcaption></figure>

**Когда исправляете баги**

Ошибки — как тараканы, любят жить в темных затхлых местах вашего кода. Попробуйте навести порядок в коде и ошибки найдутся сами собой.

Кроме того, вам не придется создавать специальные задачи для рефакторинга, которые так не любят видеть в отчетах менеджеры.

<figure><img src="https://refactoring.guru/images/refactoring/content/pages/r4.svg" alt=""><figcaption></figcaption></figure>

**Во время код-ревью**

Когда вы делаете ревью новой фичи, возможно это последний шанс почистить код перед тем, как он окажется доступным публично.

Лучше всего проводить такое ревью вместе с автором кода. В этом случае, вы будете предлагать автору изменения, а потом вместе решать, насколько сложно произвести то или иное изменение. При этом, небольшие изменения можно будет осуществлять очень быстро.

